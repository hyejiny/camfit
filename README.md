# CamFit

> ê°œë°œ ê¸°ê°„ : 2021/03/01 ~ 2021/04/09



#### ğŸ– Developer

* ë°•ë…¸ì •

* ë°±ê·œíƒœ 

* ì´ê²½ì—° 

* ì´ëŒ€í—Œ 

* ì´í˜œì§„ 

  

### ğŸ‹ï¸â€â™‚ï¸ CamFit ë€?

> ì›¹ ì¹´ë©”ë¼(Cam) ê³¼ í”¼íŠ¸ë‹ˆìŠ¤(Fit)ì˜ í•©ì„±ì–´

```text
í™ˆ í”¼íŠ¸ë‹ˆìŠ¤(Fit)ë¥¼ í•˜ëŠ” ë™ì•ˆ, ì›¹ ì¹´ë©”ë¼(Cam)ë¥¼ í†µí•´ ì´¬ì˜í•˜ë©´ AIê°€ ì‚¬ìš©ìì˜ ìì„¸ë¥¼ ìŒì„±ìœ¼ë¡œ íŠ¸ë ˆì´ë‹í•´ì£¼ëŠ” ì„œë¹„ìŠ¤
```



* ê¸°íš ë°°ê²½

  * Un-Tact ì‹œëŒ€ë¡œ í—¬ìŠ¤ì¥ì„ í¸í•˜ê²Œ ì´ìš©í•˜ì§€ ëª»í•˜ê²Œ ë˜ë©´ì„œ, í™ˆ í”¼íŠ¸ë‹ˆìŠ¤ë¥¼ íƒí•˜ëŠ” ì‚¬ëŒì´ ëŠ˜ê³  ìˆë‹¤. íŠ¹íˆ "í—¬ë¦°ì´(ìš´ë™ ì´ˆë³´ì)"ë“¤ì€ ì •í™•í•œ ìì„¸ë¥¼ í•˜ì§€ ëª»í•´ ë‹¤ì¹˜ê±°ë‚˜ ì œëŒ€ë¡œ ëœ ìš´ë™ì„ í•  ìˆ˜ ì—†ë‹¤. 

    ë”°ë¼ì„œ, AI Trainingì„ ì œê³µí•¨ìœ¼ë¡œì¨ í—¬ë¦°ì´ë“¤ì´ í™ˆí”¼íŠ¸ë‹ˆìŠ¤ë„ ì „ë¬¸ì ìœ¼ë¡œ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤„ ê²ƒì´ë‹¤.

  * ìµœê·¼ í—¬ìŠ¤ì¥ ì´ìš© ê³ ê°ì´ ì¤„ì–´ë“¤ë©´ì„œ íŠ¸ë ˆì´ë„ˆë“¤ì˜ ì…ì§€ê°€ ì•½í•´ì§€ê³  ìˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì—ë„ ê·¸ë“¤ì´ ìˆ˜ì—…ê³¼ ìƒê³„ë¥¼ ì´ì–´ë‚˜ê°ˆ ìˆ˜ ìˆë„ë¡ ì˜¨ë¼ì¸ í™˜ê²½ì„ ì œê³µí•œë‹¤. 

    ë”°ë¼ì„œ, On-Tact ì‹œëŒ€ì— í—¬ìŠ¤ íŠ¸ë ˆì´ë„ˆì™€ íšŒì›ì„ Onlineìœ¼ë¡œ ì—°ê²°ì‹œì¼œì£¼ëŠ” í”Œë«í¼ì„ ì œê³µí•œë‹¤.



* ì„œë¹„ìŠ¤ ëª©ì 

  * AI Training ì œê³µì„ í†µí•´ ìš´ë™ìì˜ ìì„¸ êµì •
  * Training Class Flatform ì œê³µì„ í†µí•´ íŠ¸ë ˆì´ë„ˆì™€ ìš´ë™ì ì—°ê²°
* ì£¼ìš” ê¸°ëŠ¥

  * AI ì½”ì¹­ 
    * ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©ìì˜ ìì„¸ë¥¼ ë¶„ì„í•´ ìŒì„±ìœ¼ë¡œ í”¼ë“œë°± ì œê³µ
  * ì˜¨ë¼ì¸ í™”ìƒ í´ë˜ìŠ¤
    * ì „ë¬¸ íŠ¸ë ˆì´ë„ˆì™€ ìš´ë™ìê°€ í™”ìƒë¯¸íŒ…ìœ¼ë¡œ PT ì§„í–‰ ê°€ëŠ¥
  * [ë” ë§ì€ ê¸°ëŠ¥ ë³´ê¸°](#CamFit's-ê¸°ëŠ¥)





## ğŸ”§ Install

* Django ì‹¤í–‰

  1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

  ```text
  $ pip install -r requirements.txt
  ```

  2. Django ì‹¤í–‰

  ```text
  $ python manage.py runserver
  ```

* React ì‹¤í–‰

  1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

  ```text
  $ npm i
  ```

  2. React ì‹¤í–‰

  ```text
  $ npm start
  ```





## ğŸ“‘ Project Construction

* [Backend](./ë””ë ‰í† ë¦¬êµ¬ì¡°/Backend.md)
* [Frontend](./ë””ë ‰í† ë¦¬êµ¬ì¡°/Frontend.md)
* [AI](./ë””ë ‰í† ë¦¬êµ¬ì¡°/AI.md)



++ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ ê·¸ë¨

[ê¸°ëŠ¥ë³„ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨](./ê¸°íš/ê¸°ëŠ¥ë³„ ì‹œí€€ìŠ¤ë‹¤ì´ì–´ê·¸ë¨.md)



##  ğŸ“‚Tech Stack

### Tools

| Tool          | ê¸°ìˆ                                                  |
| ------------- | ---------------------------------------------------- |
| GitLab        | ê¸°ëŠ¥ë³„ branchë¥¼ ë‚˜ëˆ ì„œ ì½”ë“œ ë²„ì „ ê´€ë¦¬                |
| Jira          | Issue ê´€ë¦¬ë¥¼ ìœ„í•´ Gitê³¼ ì—°ë™í•˜ì—¬ ì‚¬ìš©                |
| Scrum Poker   | Jira Issue ë³„ ìŠ¤í”„ë¦°íŠ¸ ì‹œê°„ ê´€ë¦¬ë¥¼ ìœ„í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ |
| VS Code       | code êµ¬í˜„ì„ ìœ„í•œ Tool                                |
| Google Chrome | êµ¬í˜„í•œ í™”ë©´ì„ ì¶œë ¥í•˜ê¸° ìœ„í•œ ë¸Œë¼ìš°ì €                 |

### â—¾ Library

| Library | ë‚´ìš©                                      |
| ------- | ----------------------------------------- |
| Django  | Backend êµ¬í˜„ì„ ìœ„í•œ python web framework  |
| React   | Frontend êµ¬í˜„ì„ ìœ„í•œ JavaScript framework |

### â—¾ Software Language

| Language   | ê¸°ìˆ                              |
| ---------- | -------------------------------- |
| Python     | Backend ë° ì´ë¯¸ì§€ ì²˜ë¦¬ êµ¬í˜„ ì–¸ì–´ |
| JavaScript | Frontend êµ¬í˜„ ì–¸ì–´               |
| HTML/CSS   | Frontend êµ¬í˜„ ì–¸ì–´               |



## ğŸŒ ë°°í¬ë°©ë²•

#### Front

1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

   ```
   npm i
   ```

2. í”„ë¡œì íŠ¸ build

   ```
   npm run build
   ```

3. nginx ì„¤ì¹˜

   ```
   sudo apt install nginx
   ```

4. httpsë¥¼ ìœ„í•œ ì¸ì¦ì„œ ë°œê¸‰

   ```
   sudo apt-get install letsencrypt
   sudo letsencrypt certonly --standalone -d j4d104.p.ssafy.io
   ```

   

5. í”„ë¡œì íŠ¸ build ê²°ê³¼ë¬¼ì„ ë°°í¬í•  ì„¤ì • íŒŒì¼ ìƒì„±

   ```
   sudo touch /etc/nginx/sites-available/frontends.conf
   
   sudo vi frontends.conf
   
   server {
   	listen 80 default_server;
   	listen [::]:80 default_server;
   	server_name j4d104.p.ssafy.io;
   	
   	return 301 https://$server_name$request_uri;
   }
   
   server {
   	listen 443 ssl;
   	listen [::]:443 ssl;
   	
   	root /home/ubuntu/s04p23d104/frontends/build;
   	index index.html index.htm index.nginx-debian.html;
   	
   	server_name j4d104.p.ssafy.io;
   	
   	ssl_certificate /etc/letsencrypt/live/j4d104.p.ssafy.io/fullchain.pem;
   	ssl_certificate_key /etc/letsencrypt/live/j4d104.p.ssafy.io/privkey.pem;
   
   	location / {
   		try_files $uri $uri/ /index.html;
   	}
   }
   ```

6. nginx ì‹ íƒìŠ¤ ê²€ì‚¬ ë° ë¦¬ë¶€íŒ…

   ```
   sudo nginx -t
   sudo service nginx restart
   ```



#### Backend

1. conda ê°€ìƒí™˜ê²½ì— requirements ì„¤ì¹˜

   ```
   pip install requirements.txt
   # ì—¬ê¸°ì—ì„œ uwsgiëŠ” ì„¤ì¹˜ê°€ ì•ˆë¨
   ```

2. conda ê°€ìƒí™˜ê²½ì— uWSGI ì„¤ì¹˜

   ```
   conda install -c conda-forge uwsgi
   ```

3. nginx config íŒŒì¼ ìˆ˜ì •

   ```
   sudo vi /etc/nginx/sites-enabled/frontends.config
   
   #ì½”ë“œ ì¶”ê°€
   upstream backend {
   	server localhost:8000;
   }
   
   server {
   	
   	location / {
   		...
   	}
   	
   	location /api {
   		proxy_pass http://backend;
   		proxy_http_version 1.1;
   		proxy_set_header Connection "";
   
   		proxy_set_header Host $host;
   		proxy_set_header X-Real_IP $remote_addr;
   		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   		proxy_set_header X-Forwarded-Proto $scheme;
   		proxy_set_header X-Forwarded-Host $host;
   		proxy_set_header X-Forwarded-Port $server_port;
     }
   }
   ```

4. nginx ì‹ íƒìŠ¤ ê²€ì‚¬ ë° ì¬ì‹œì‘

   ```
   sudo nginx -t
   sudo service nginx restart
   ```

5. ë°±ì„œë²„ ì‹¤í–‰

   ```
   uwsgi --http :8000 --module backends.wsgi
   ```



#### ê²°ê³¼

front : https://j4d104.p.ssafy.io

back : https://j4d104.p.ssafy.io/api





## ğŸ“– ê¸°ìˆ  ì„¤ëª…

* [ERD](./ê¸°íš/ERD.png) 
* [Wire Frame](./ê¸°íš/[ì¸ê³µëˆˆë¬¼] ì™€ì´ì–´í”„ë ˆì„.pdf)
  * ìƒì„¸ë³´ê¸° : https://www.notion.so/9813c4963a3f4b9795a326e00f4bf9e9





## CamFit's ê¸°ëŠ¥

* AI ì½”ì¹­
  * Teachable Machine
    * í‹°ì³ë¸”ë¨¸ì‹  ì›¹ ìƒì—ì„œ ëª¨ë¸ë§ í›„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì ìš©í•˜ê³  ê°ê°ì˜ ìƒíƒœê°’ì„ ì¡°ì •í•˜ì—¬ ì—¬ëŸ¬ ìƒí™©ì— ëŒ€ì‘í•˜ì˜€ë‹¤.
    * ì‹œì‘, ê°¯ìˆ˜ ì„¸ì–´ì£¼ê¸°, ìì„¸ ê²½ê³  ë“±ì˜ ìƒí™©ì—ì„œ ê°ê°ì— ë§ëŠ” wavíŒŒì¼ì„ ì¬ìƒí•˜ì˜€ë‹¤. 
  * TTS (ìŒì„±í•©ì„±)
    * ![TTS](./ê¸°íš/TTS.JPG)
    * ì¸ì½”ë”
      * ë¬¸ìì—´ì„ ìºë¦­í„° ì„ë² ë”©ìœ¼ë¡œ ë³€í™˜í•œ ë²¡í„°ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ëŠ”ë‹¤.
      * Convolution Layerì™€ Bidirectional LSTM Layerë¥¼ ê±°ì³ featureë¥¼ ì¸ì½”ë”©í•œë‹¤.
    * ë””ì½”ë”
      * ì¸ì½”ë”ì—ì„œ ì–»ì€ encoded featureë¥¼ ë°”íƒ•ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ ë²¡í„°ë¥¼ ë§Œë“¤ê³  ì´ì— attention mechanismì„ ì ìš©í•œë‹¤.
      * ìµœì¢…ì ìœ¼ë¡œ ë””ì½”ë”ì—ì„œ mel-spectrogramì„ ìƒì„±í•œë‹¤.
    * ë³´ì½”ë”
      * ë””ì½”ë”ë¥¼ í†µí•´ ìƒì„±í•œ mel-spectrogramì„ ë³´ì½”ë”ì— ì…ë ¥í•˜ì—¬ ìŒì„± waveformì„ í•©ì„±í•  ìˆ˜ ìˆë‹¤.
      * waveglowë¼ëŠ” ë³´ì½”ë”ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.
    * TTS êµ¬í˜„ í›„ ìƒí™©ì— ë”°ë¥¸ wavíŒŒì¼ì„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë¹ ë¥´ê²Œ ì“¸ ìˆ˜ ìˆê²Œ ë¯¸ë¦¬ ë§Œë“¤ì–´ë†“ê³  ì¬ìƒí•˜ì˜€ë‹¤.
* ì˜¨ë¼ì¸ í™”ìƒ í´ë˜ìŠ¤
  * í™”ìƒ ë¯¸íŒ…
    * webRTC íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•´ P2Pí†µì‹ ì„ êµ¬í˜„í•˜ì˜€ë‹¤.
      * getUserMedia() : ë¡œì»¬ ë¹„ë””ì˜¤ì™€ ì˜¤ë””ì˜¤ì— ì ‘ê·¼í•˜ì—¬ ë¯¸ë””ì–´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
      * RTCPeerConnection : í”¼ì–´ê°„ ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤ í†µì‹ ì„ í™œì„±í™”, ì‹ í˜¸ì²˜ë¦¬, ì½”ë±ê´€ë¦¬, P2P í†µì‹ , ë³´ì•ˆ, ëŒ€ì—­í­ ê´€ë¦¬ ë“±ì„ ìˆ˜í–‰
      * Googleì˜ ê³µìš© stun Serverë¥¼ ì´ìš©í•´ íƒ€ IPì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. `'stun:stun.l.google.com:19302'`
    * Firebase ë¥¼ í™œìš©í•´ ì‹¤ì‹œê°„ ë°ì´í„° í†µì‹ ì„ êµ¬í˜„í•˜ì˜€ë‹¤.

* ì •ë³´ ê²Œì‹œíŒ







